(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{242:function(e,t,a){e.exports=a(503)},258:function(e,t){},260:function(e,t){},293:function(e,t){},294:function(e,t){},395:function(e,t){},492:function(e,t,a){},494:function(e,t,a){},496:function(e,t,a){},500:function(e,t,a){},503:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(32),s=a.n(o),l=a(7),r=a(8),c=a(11),u=a(9),h=a(10),d=a(14),m=a(551),p=a(543),g=a(558),v=a(542),f=a(83),y=a(84),b=a(544),k=a(148),E=a(548),w=a(505),S=a(541),N=a(554),x=a(546);function C(){return"true"===localStorage.getItem("prefers-dark-mode")?"dark":""}var P=a(62),_=a.n(P),T=a(98),M=a.n(T),D=(a(138),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.state={status:"",media:[],media_data:[],visibility:"public",spoiler_text:"",sensitive:!1,hideDialog:!0,hideSpoilerDialog:!0,hideEmojiPicker:!0},a.client=a.props.client,a.toggleVisibilityDialog=a.toggleVisibilityDialog.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"updateStatus",value:function(e){this.setState({status:e.target.value})}},{key:"postMediaForStatus",value:function(){var e=this,t=this;_()({multiple:!1,accept:"image/*, video/*"}).then(function(a){var n=new FormData;n.append("file",a[0]),t.client.post("/media",n).then(function(a){console.log("Media uploaded!");var n=a.data.id,i=t.state.media,o=e.state.media_data;i.push(n),o.push(a.data),t.setState({media:i,media_data:o})})})}},{key:"getMediaItemColumns",value:function(){return[{key:"fileIcon",fieldName:"fileIcon",name:"",value:"File Icon",iconName:"attachedFile",iconClassName:"media-file-header-icon",isIconOnly:!1,minWidth:16,maxWidth:16,isPadded:!0},{key:"fileUrl",name:"",fieldName:"fileUrl",iconName:"linkApp",iconClassName:"media-file-header-icon",value:"File URL",minWidth:24,isPadded:!0,isIconOnly:!1}]}},{key:"getMediaItemRows",value:function(){var e=[];if(0===this.state.media_data.length){var t={fileIcon:i.a.createElement("span",null,i.a.createElement(m.a,{iconName:"helpApp",className:"media-file-icon"})),fileUrl:"No media uploaded"},a=[];return a.push(t),a}for(var n in this.state.media_data){var o={fileIcon:i.a.createElement("span",null,i.a.createElement(m.a,{iconName:"attachedFile",className:"media-file-icon"})),fileUrl:i.a.createElement("a",{href:this.state.media_data[Number(n)].url},this.state.media_data[Number(n)].url)};e.push(o)}return e}},{key:"postStatus",value:function(){this.client.post("/statuses",{status:this.state.status,media_ids:this.state.media,visibility:this.state.visibility,sensitive:this.state.sensitive,spoiler_text:this.state.spoiler_text}),this.setState({media:[],media_data:[],status:"",visibility:"public",sensitive:!1,spoiler_text:""})}},{key:"getVisibilityIcon",value:function(){return"public"===this.state.visibility?"public":"unlisted"===this.state.visibility?"unlisted":"private"===this.state.visibility?"private":"directMessage"}},{key:"getSpoilerText",value:function(){return this.state.sensitive?i.a.createElement("span",{className:"my-1 ml-2"},i.a.createElement(m.a,{iconName:"warningApp"})," ",i.a.createElement("b",null,"Warning: "),this.state.spoiler_text," "):i.a.createElement("span",null)}},{key:"getItems",value:function(){var e=this;return[{key:"media",name:"Upload media",iconProps:{iconName:"uploadMedia",className:"toolbar-icon"},className:"toolbar-icon",onClick:function(){return e.postMediaForStatus()}},{key:"visibility",name:"Set visibility",iconProps:{iconName:this.getVisibilityIcon(),className:"toolbar-icon"},className:"toolbar-icon",onClick:function(){return e.toggleVisibilityDialog()}},{key:"emoji",name:"Add emoji",iconProps:{iconName:"emojiPicker",className:"toolbar-icon"},className:"toolbar-icon",id:"emojiPickerButton",onClick:function(){return e.toggleEmojiPicker()}}]}},{key:"getOverflowItems",value:function(){var e=this;return[{key:"spoiler",name:this.setWarningButtonText(),iconProps:{iconName:"warningApp",className:"toolbar-icon"},className:"toolbar-icon",onClick:function(){return e.toggleSpoilerDialog()}}]}},{key:"getFarItems",value:function(){var e=this;return[{key:"post",name:"Post status",iconProps:{iconName:"postStatus",className:"toolbar-icon"},className:"toolbar-icon",onClick:function(){return e.postStatus()}}]}},{key:"toggleVisibilityDialog",value:function(){this.setState({hideDialog:!this.state.hideDialog})}},{key:"_onChoiceChanged",value:function(e,t){this.setState({visibility:t.key})}},{key:"toggleSpoilerDialog",value:function(){this.setState({hideSpoilerDialog:!this.state.hideSpoilerDialog})}},{key:"onSpoilerVisibilityChange",value:function(e,t){this.setState({sensitive:!!t}),!1===t&&this.setState({spoiler_text:""})}},{key:"onSpoilerTextChange",value:function(e){this.setState({spoiler_text:e.target.value})}},{key:"setVisibilityContentText",value:function(){var e=i.a.createElement("p",null,"Choose who gets to see your status. By default, new statuses are posted publicly."),t="";return"direct"===this.state.visibility&&(t=i.a.createElement("p",null,i.a.createElement("b",{style:{fontWeight:700}},"Note: you need to add the recipient/recipients by typing their username/handle to send the message."))),i.a.createElement("span",null,e,""!==t?t:i.a.createElement("span",null))}},{key:"setWarningButtonText",value:function(){return this.state.sensitive?"Change warning":"Add warning"}},{key:"setWarningHeaderText",value:function(){return this.state.sensitive?"Change or remove your warning":"Add a warning"}},{key:"setWarningContentText",value:function(){return this.state.sensitive?"Change or remove the warning on your post. This may be used to hide a spoiler or provide a warning of the contents of your post that may not be appropriate for all audiences.":"Add a content warning to your post. This may be used to hide a spoiler or provide a warning of the contents of your post that may not be appropriate for all audiences."}},{key:"toggleEmojiPicker",value:function(){this.setState({hideEmojiPicker:!this.state.hideEmojiPicker})}},{key:"addEmojiToStatus",value:function(e){var t=String.fromCodePoint("0x"+e);console.log(e),this.setState({status:this.state.status+t})}},{key:"getTypeOfWarning",value:function(e,t){if("none"===t.key){var a=this.state.spoiler_text.replace("NSFW: ","").replace("Spoiler: ","");this.setState({spoiler_text:a})}else"nsfw"===t.key?this.setState({spoiler_text:"NSFW: "+this.state.spoiler_text.replace("Spoiler: ","")}):"spoiler"===t.key&&this.setState({spoiler_text:"Spoiler: "+this.state.spoiler_text.replace("NSFW: ","")})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"compose-window",className:"marked-area shadow-sm rounded p-1"},i.a.createElement(p.a,{items:this.getItems(),overflowItems:this.getOverflowItems(),farItems:this.getFarItems(),ariaLabel:"Use left and right arrow keys to navigate between commands",overflowButtonProps:{menuIconProps:{iconName:"overflowMenu",iconClassName:"toolbar-icons"},className:"toolbar-icon",name:"More"}}),i.a.createElement(g.a,{multiline:!0,rows:5,resizable:!1,maxLength:500,onBlur:function(t){return e.updateStatus(t)},placeholder:"What's on your mind?","data-emojiable":!0,defaultValue:this.state.status}),i.a.createElement("p",{className:"mt-1"},this.getSpoilerText()),i.a.createElement(v.a,{columns:this.getMediaItemColumns(),items:this.getMediaItemRows(),selectionMode:f.b.none,layoutMode:y.e.justified}),i.a.createElement(b.a,{hidden:this.state.hideDialog,onDismiss:function(){return e.toggleVisibilityDialog()},dialogContentProps:{type:k.a.largeHeader,title:"Set your visibility",subText:this.setVisibilityContentText()},modalProps:{isBlocking:!1,containerClassName:"ms-dialogMainOverride",className:C()},minWidth:500},i.a.createElement(E.a,{options:[{key:"direct",id:"message",text:"Direct message"},{key:"private",id:"followers",text:"Followers only"},{key:"unlisted",id:"unlisted",text:"Public (unlisted)"},{key:"public",id:"public",text:"Public (fediverse)",checked:!0}],onChange:function(t,a){return e._onChoiceChanged(t,a)}}),i.a.createElement(w.a,null,i.a.createElement(S.a,{onClick:function(){return e.toggleVisibilityDialog()},text:"Set"}))),i.a.createElement(b.a,{hidden:this.state.hideSpoilerDialog,onDismiss:function(){return e.toggleSpoilerDialog()},dialogContentProps:{type:k.a.largeHeader,title:this.setWarningHeaderText(),subText:this.setWarningContentText()},modalProps:{isBlocking:!0,containerClassName:"ms-dialogMainOverride",className:C()},minWidth:500},i.a.createElement(N.a,{defaultChecked:this.state.sensitive,label:"Add a warning",onText:"On",offText:"Off",onChange:function(t,a){return e.onSpoilerVisibilityChange(t,a)}}),i.a.createElement(E.a,{disabled:!this.state.sensitive,options:[{key:"none",id:"nospecial",text:"Don't mark specifically",checked:!0},{key:"nsfw",id:"nsfw",text:"Mark as NSFW"},{key:"spoiler",id:"spoiler",text:"Mark as a spoiler"}],onChange:function(t,a){return e.getTypeOfWarning(t,a)}}),i.a.createElement(g.a,{multiline:!0,rows:5,resizable:!1,label:"Warning text",onBlur:function(t){return e.onSpoilerTextChange(t)},defaultValue:this.state.spoiler_text}),i.a.createElement(w.a,null,i.a.createElement(S.a,{onClick:function(){return e.toggleSpoilerDialog()},text:"Save"}))),i.a.createElement(x.a,{ariaLabelledBy:"callout-label-1",ariaDescribedBy:"callout-description-1",role:"alertdialog",gapSpace:0,hidden:this.state.hideEmojiPicker,target:document.getElementById("emojiPickerButton")},i.a.createElement(M.a,{onEmojiClick:function(t){return e.addEmojiToStatus(t)},emojiResolution:64})))}}]),t}(n.Component)),O=a(545),j=a(508),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={darkMode:"true"===localStorage.getItem("prefers-dark-mode")},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"logOut",value:function(){window.confirm("Are you sure you want to log out? You'll need to remove Hyperspace from your list of authorized apps and log in again.")&&(localStorage.clear(),window.location.reload())}},{key:"getDarkModeIcon",value:function(){return"true"===localStorage.getItem("prefers-dark-mode")?"darkModeOn":"darkModeOff"}},{key:"toggleDarkMode",value:function(e,t){localStorage.setItem("prefers-dark-mode",String(!!t)),this.setState({darkMode:!!t}),window.location.reload()}},{key:"getNavBar",value:function(){return"true"===localStorage.getItem("prefers-dark-mode")?"navbar-dark":"navbar-light"}},{key:"renderMacTitleBarOnNavPadding",value:function(){if(navigator.userAgent.includes("Electron")&&-1!==navigator.appVersion.indexOf("Mac"))return{paddingTop:32}}},{key:"renderMacTitleBar",value:function(){if(navigator.userAgent.includes("Electron")&&-1!==navigator.appVersion.indexOf("Mac"))return i.a.createElement("div",{className:"m-0 p-0 mac-title-bar"},i.a.createElement("p",null,"Hyperspace"))}},{key:"render",value:function(){var e=this;return i.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-app fixed-top "+this.getNavBar(),style:this.renderMacTitleBarOnNavPadding()},this.renderMacTitleBar(),i.a.createElement("span",{className:"navbar-brand"},i.a.createElement("img",{src:"hyperspace48.png",style:{width:"24px"},alt:"Hyperspace logo"}),"\xa0hyperspace"),i.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},localStorage.length>0?i.a.createElement("ul",{className:"navbar-nav ml-auto"},i.a.createElement(O.a,{content:"Toggle the dark or light theme."},i.a.createElement(N.a,{label:i.a.createElement(m.a,{iconName:this.getDarkModeIcon()}),inlineLabel:!0,defaultChecked:this.state.darkMode||void 0,styles:{root:{marginRight:12}},onChange:function(t,a){return e.toggleDarkMode(t,a)}})),i.a.createElement(O.a,{content:"Log out of Hyperspace. You will need to adjust your account settings to revoke this app's access."},i.a.createElement(j.a,{text:"Log out",onClick:function(){return e.logOut()}}))):i.a.createElement("span",null)))}}]),t}(n.Component),B=a(550),z=a(151),L=a(253),A=a(555),H=a(64),V=a.n(H),W=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"post-content"},this.props.children)}}]),t}(n.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("small",{className:"text-muted"},this.props.date)}}]),t}(n.Component),R=a(509),U=a(556),Y=a(149),J=a(559),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.state={hideReplyPanel:!0,to:a.props.status.id,reply_count:a.props.status.replies_count,author:a.props.status.account.display_name,author_id:a.props.status.account.acct,original_status:a.getReplyOrMessage(a.props.status),reply_contents:"@"+a.props.status.account.acct+": ",visibility:a.props.status.visibility,media:[],media_data:[],spoiler_text:"",sensitive:!1,hideSpoilerDialog:!0,hideEmojiPicker:!0,hideVisibilityDialog:!0},a.client=a.props.client,a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"getReplyOrMessage",value:function(e){return"direct"===e.visibility?e.account.display_name+" messaged you: "+e.content:e.account.display_name+" originally posted: "+e.content}},{key:"toggleVisibilityDialog",value:function(){this.setState({hideVisibilityDialog:!this.state.hideVisibilityDialog})}},{key:"openPanel",value:function(){this.setState({hideReplyPanel:!1})}},{key:"closeReplyPanel",value:function(){this.setState({hideReplyPanel:!0})}},{key:"updateStatus",value:function(e){this.setState({reply_contents:e.target.value})}},{key:"postReply",value:function(){this.client.post("/statuses",{status:this.state.reply_contents,in_reply_to_id:this.state.to,visibility:this.state.visibility,sensitive:this.state.sensitive,spoiler_text:this.state.spoiler_text,media_ids:this.state.media}),this.setState({hideReplyPanel:!0})}},{key:"replyOrThread",value:function(){return this.state.author_id===JSON.parse(localStorage.getItem("account")||"").acct?"Continue":"Reply"}},{key:"discernVisibilityNoticeKeyword",value:function(){return"direct"===this.state.visibility?"private message":this.state.visibility+" status"}},{key:"postMediaForStatus",value:function(){var e=this,t=this;_()({multiple:!1,accept:"image/*, video/*"}).then(function(a){var n=new FormData;n.append("file",a[0]),t.client.post("/media",n).then(function(a){console.log("Media uploaded!");var n=a.data.id,i=t.state.media,o=e.state.media_data;i.push(n),o.push(a.data),t.setState({media:i,media_data:o})})})}},{key:"getMediaItemColumns",value:function(){return[{key:"fileIcon",fieldName:"fileIcon",value:"File Icon",iconName:"attachedFile",iconClassName:"media-file-header-icon",isIconOnly:!1,name:"",minWidth:16,maxWidth:16,isPadded:!0},{key:"fileUrl",fieldName:"fileUrl",iconName:"linkApp",iconClassName:"media-file-header-icon",value:"File URL",name:"",minWidth:24,isPadded:!0,isIconOnly:!1}]}},{key:"getMediaItemRows",value:function(){var e=[];if(0===this.state.media_data.length){var t={fileIcon:i.a.createElement("span",null,i.a.createElement(m.a,{iconName:"helpApp",className:"media-file-icon"})),fileUrl:"No media uploaded"},a=[];return a.push(t),a}for(var n in this.state.media_data){var o={fileIcon:i.a.createElement("span",null,i.a.createElement(m.a,{iconName:"attachedFile",className:"media-file-icon"})),fileUrl:i.a.createElement("a",{href:this.state.media_data[n].url},this.state.media_data[n].url)};e.push(o)}return e}},{key:"getVisibilityIcon",value:function(){return"public"===this.state.visibility?"public":"unlisted"===this.state.visibility?"unlisted":"private"===this.state.visibility?"private":"directMessage"}},{key:"getSpoilerText",value:function(){return this.state.sensitive?i.a.createElement("span",{className:"my-1 ml-2"},i.a.createElement(m.a,{iconName:"warningApp"})," ",i.a.createElement("b",null,"Warning: "),this.state.spoiler_text," "):i.a.createElement("span",null)}},{key:"getItems",value:function(){var e=this;return[{key:"media",name:"Upload media",iconProps:{iconName:"uploadMedia",className:"toolbar-icon"},className:"toolbar-icon",onClick:function(){return e.postMediaForStatus()}},{key:"visibility",name:"Change visibility",iconProps:{iconName:this.getVisibilityIcon(),className:"toolbar-icon"},className:"toolbar-icon",onClick:function(){return e.toggleVisibilityDialog()}},{key:"emoji",name:"Add emoji",iconProps:{iconName:"emojiPicker",className:"toolbar-icon"},className:"toolbar-icon",id:"emojiPickerReplyButton",onClick:function(){return e.toggleEmojiPicker()}}]}},{key:"getOverflowItems",value:function(){var e=this;return[{key:"spoiler",name:this.setWarningButtonText(),iconProps:{iconName:"warningApp",className:"toolbar-icon"},className:"toolbar-icon",onClick:function(){return e.toggleSpoilerDialog()}}]}},{key:"_onChoiceChanged",value:function(e,t){this.setState({visibility:t.key})}},{key:"toggleSpoilerDialog",value:function(){this.setState({hideSpoilerDialog:!this.state.hideSpoilerDialog})}},{key:"onSpoilerVisibilityChange",value:function(e,t){this.setState({sensitive:!!t}),!1===t&&this.setState({spoiler_text:""})}},{key:"onSpoilerTextChange",value:function(e){this.setState({spoiler_text:e.target.value})}},{key:"setVisibilityContentText",value:function(){var e=i.a.createElement("p",null,"Choose who gets to see your reply."),t="";return"direct"===this.state.visibility&&(t=i.a.createElement("p",null,i.a.createElement("b",{style:{fontWeight:700}},"Note: you need to add the recipient/recipients by typing their username/handle to send the message."))),i.a.createElement("span",null,e,""!==t?t:i.a.createElement("span",null))}},{key:"setWarningButtonText",value:function(){return this.state.sensitive?"Change warning":"Add warning"}},{key:"setWarningHeaderText",value:function(){return this.state.sensitive?"Change or remove your warning":"Add a warning"}},{key:"setWarningContentText",value:function(){return this.state.sensitive?"Change or remove the warning on your post. This may be used to hide a spoiler or provide a warning of the contents of your post that may not be appropriate for all audiences.":"Add a content warning to your post. This may be used to hide a spoiler or provide a warning of the contents of your post that may not be appropriate for all audiences."}},{key:"toggleEmojiPicker",value:function(){this.setState({hideEmojiPicker:!this.state.hideEmojiPicker})}},{key:"addEmojiToStatus",value:function(e){var t=String.fromCodePoint(Number("0x"+e));console.log(e),this.setState({reply_contents:this.state.reply_contents+t})}},{key:"getTypeOfWarning",value:function(e,t){if("none"===t.key){var a=this.state.spoiler_text.replace("NSFW: ","").replace("Spoiler: ","");this.setState({spoiler_text:a})}else"nsfw"===t.key?this.setState({spoiler_text:"NSFW: "+this.state.spoiler_text.replace("Spoiler: ","")}):"spoiler"===t.key&&this.setState({spoiler_text:"Spoiler: "+this.state.spoiler_text.replace("NSFW: ","")})}},{key:"giveVisibilityDialog",value:function(){var e=this;return i.a.createElement(b.a,{hidden:this.state.hideVisibilityDialog,onDismiss:function(){return e.toggleVisibilityDialog()},dialogContentProps:{type:k.a.largeHeader,title:"Set your visibility",subText:this.setVisibilityContentText()},modalProps:{isBlocking:!1,containerClassName:"ms-dialogMainOverride",className:C()},minWidth:500},i.a.createElement(E.a,{options:[{key:"direct",id:"message",text:"Direct message"},{key:"private",id:"followers",text:"Followers only"},{key:"unlisted",id:"unlisted",text:"Public (unlisted)"},{key:"public",id:"public",text:"Public (fediverse)",checked:!0}],onChange:function(t,a){return e._onChoiceChanged(t,a)}}),i.a.createElement(w.a,null,i.a.createElement(S.a,{onClick:function(){return e.toggleVisibilityDialog()},text:"Set"})))}},{key:"giveEmojiDialog",value:function(){var e=this;return i.a.createElement(x.a,{ariaLabelledBy:"callout-label-1",ariaDescribedBy:"callout-description-1",role:"alertdialog",gapSpace:0,hidden:this.state.hideEmojiPicker,target:document.getElementById("emojiPickerReplyButton")},i.a.createElement(M.a,{onEmojiClick:function(t){return e.addEmojiToStatus(t)},emojiResolution:64}))}},{key:"giveSpoilerDialog",value:function(){var e=this;return i.a.createElement(b.a,{hidden:this.state.hideSpoilerDialog,onDismiss:function(){return e.toggleSpoilerDialog()},dialogContentProps:{type:k.a.largeHeader,title:this.setWarningHeaderText(),subText:this.setWarningContentText()},modalProps:{isBlocking:!0,containerClassName:"ms-dialogMainOverride",className:C()},minWidth:500},i.a.createElement(N.a,{defaultChecked:this.state.sensitive,label:"Add a warning",onText:"On",offText:"Off",onChange:function(t,a){return e.onSpoilerVisibilityChange(t,a)}}),i.a.createElement(E.a,{disabled:!this.state.sensitive,options:[{key:"none",id:"nospecial",text:"Don't mark specifically",checked:!0},{key:"nsfw",id:"nsfw",text:"Mark as NSFW"},{key:"spoiler",id:"spoiler",text:"Mark as a spoiler"}],onChange:function(t,a){return e.getTypeOfWarning(t,a)}}),i.a.createElement(g.a,{multiline:!0,rows:5,resizable:!1,label:"Warning text",onBlur:function(t){return e.onSpoilerTextChange(t)},defaultValue:this.state.spoiler_text}),i.a.createElement(w.a,null,i.a.createElement(S.a,{onClick:function(){return e.toggleSpoilerDialog()},text:"Save"})))}},{key:"getPanelStyles",value:function(){return{closeButton:{color:"transparent","&:hover":{color:"transparent !important"},"&:active":{color:"transparent !important"},backgroundImage:"url('close.svg')",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"50%"}}}},{key:"stripOriginalStatus",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}},{key:"giveDialogBox",value:function(){var e=this;return i.a.createElement(U.a,{isOpen:!this.state.hideReplyPanel,onDismiss:function(){return e.closeReplyPanel()},headerText:"Reply to "+this.state.author,type:Y.a.medium,styles:this.getPanelStyles(),className:C(),onRenderFooterContent:function(){return i.a.createElement("div",null,i.a.createElement(S.a,{onClick:function(){return e.postReply()},style:{marginRight:"8px"},text:"Post reply"}),i.a.createElement(j.a,{onClick:function(){return e.closeReplyPanel()},text:"Cancel"}))}},i.a.createElement("div",{id:"compose-window",className:"p-3 rounded"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.stripOriginalStatus(this.state.original_status)}}),i.a.createElement("p",{className:"mt-2"},"Note: your reply will be sent as a ",i.a.createElement("b",null,this.discernVisibilityNoticeKeyword(),".")),i.a.createElement("p",{className:"mt-1"},this.getSpoilerText()),i.a.createElement(p.a,{items:this.getItems(),overflowItems:this.getOverflowItems(),ariaLabel:"Use left and right arrow keys to navigate between commands",overflowButtonProps:{menuIconProps:{iconName:"overflowMenu",iconClassName:"toolbar-icons"},className:"toolbar-icon",name:"More"}}),i.a.createElement(g.a,{multiline:!0,rows:5,resizable:!1,maxLength:500,onBlur:function(t){return e.updateStatus(t)},placeholder:"Type your reply here...",defaultValue:this.state.reply_contents}),i.a.createElement(v.a,{columns:this.getMediaItemColumns(),items:this.getMediaItemRows(),selectionMode:f.b.none,layoutMode:y.e.justified})),this.giveVisibilityDialog(),this.giveSpoilerDialog(),this.giveEmojiDialog())}},{key:"giveFullActionButton",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(R.a,{"data-automation-id":"test",iconProps:{iconName:"replyApp",className:"post-toolbar-icon"},allowDisabledFocus:!0,disabled:!1,checked:!1,onClick:function(){return e.openPanel()},className:"post-toolbar-icon "+this.props.className},i.a.createElement("span",{className:"d-none d-md-block"},this.replyOrThread()," (",this.state.reply_count,")")),this.giveDialogBox())}},{key:"giveSmallButton",value:function(){var e=this;return i.a.createElement("span",null,i.a.createElement(J.a,{onClick:function(){return e.openPanel()},className:this.props.className},i.a.createElement("b",null,"Reply")),this.giveDialogBox())}},{key:"render",value:function(){return!0===this.props.fullButton?this.giveFullActionButton():this.giveSmallButton()}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={status_thread_id:a.props.fromWhere,ancestors:[],status:"",descendants:[],hideThreadPanel:!0},a.client=a.props.client,a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"openThreadPanel",value:function(){this.setState({hideThreadPanel:!1}),this.retrieveThread()}},{key:"closeThreadPanel",value:function(){this.setState({hideThreadPanel:!0})}},{key:"retrieveThread",value:function(){var e=this;this.client.get("/statuses/"+this.state.status_thread_id).then(function(t){e.setState({status:t.data})}),this.client.get("/statuses/"+this.state.status_thread_id+"/context").then(function(t){e.setState({ancestors:t.data.ancestors,descendants:t.data.descendants})})}},{key:"displayAncestors",value:function(){var e=this;if(this.state.ancestors.length>0)return i.a.createElement("div",null,this.state.ancestors.map(function(t){return i.a.createElement("div",{className:"m-2"},i.a.createElement(ue,{key:t.id,client:e.client,status:t,nolink:!1,nothread:!1}))}))}},{key:"displayOriginalStatus",value:function(){if(""!==this.state.status)return i.a.createElement("div",null,i.a.createElement(ue,{key:this.state.status_thread_id,client:this.client,status:this.state.status,nolink:!1,nothread:!0,bigShadow:!0}))}},{key:"displayDescendants",value:function(){var e=this;if(this.state.descendants.length>0)return i.a.createElement("div",null,this.state.descendants.map(function(t){return i.a.createElement("div",{className:"m-2"},i.a.createElement(ue,{key:t.id,client:e.client,status:t,nolink:!1,nothread:!0}))}))}},{key:"getPanelStyles",value:function(){return{closeButton:{color:"transparent","&:hover":{color:"transparent !important"},"&:active":{color:"transparent !important"},backgroundImage:"url('close.svg')",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"50%"}}}},{key:"getThreadPanel",value:function(){var e=this;return i.a.createElement(U.a,{isOpen:!this.state.hideThreadPanel,type:Y.a.medium,onDismiss:function(){return e.closeThreadPanel()},closeButtonAriaLabel:"Close",headerText:"View thread",isLightDismiss:!0,styles:this.getPanelStyles(),className:C()},i.a.createElement("div",null,this.displayAncestors(),this.displayOriginalStatus(),this.displayDescendants()))}},{key:"getThreadButton",value:function(){var e=this;return i.a.createElement(R.a,{iconProps:{iconName:"thread",className:"post-toolbar-icon"},allowDisabledFocus:!0,disabled:!1,checked:!1,href:this.state.url,className:"post-toolbar-icon",onClick:function(){return e.openThreadPanel()}}," ",i.a.createElement("span",{className:"d-none d-md-block"},"Show thread"))}},{key:"getSmallThreadButton",value:function(){var e=this;return i.a.createElement(J.a,{onClick:function(){return e.openThreadPanel()}},i.a.createElement("b",null,"View thread"))}},{key:"render",value:function(){return i.a.createElement("div",null,null!==this.props.fullButton?!0===this.props.fullButton?this.getThreadButton():this.getSmallThreadButton():i.a.createElement("span",null),this.getThreadPanel())}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.client=a.props.client,a.state={id:a.props.status.id,replies:a.props.status.replies_count,favorites:a.props.status.favourites_count,boosts:a.props.status.reblogs_count,favorited:a.props.status.favourited,boosted:a.props.status.reblogged,favorite_toggle:a.props.status.favourited,url:a.props.status.url,noThread:a.props.nothread,hideDeleteDialog:!0},a.toggle_favorite=a.toggle_favorite.bind(Object(d.a)(Object(d.a)(a))),a.toggle_boost=a.toggle_boost.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"openDeleteDialog",value:function(){this.setState({hideDeleteDialog:!1})}},{key:"deletePost",value:function(){var e=this;this.client.del("/statuses/"+this.state.id).then(function(){e.closeDeleteDialog()})}},{key:"closeDeleteDialog",value:function(){this.setState({hideDeleteDialog:!0})}},{key:"toggle_favorite",value:function(){var e=this,t=this;this.state.favorited?this.client.post("/statuses/"+this.state.id+"/unfavourite").then(function(a){e.setState({favorited:!1,favorites:t.state.favorites-1})}):this.client.post("/statuses/"+this.state.id+"/favourite").then(function(a){e.setState({favorited:!0,favorites:t.state.favorites+1})})}},{key:"toggle_boost",value:function(){var e=this,t=this;this.state.boosted?this.client.post("/statuses/"+this.state.id+"/unreblog").then(function(a){e.setState({boosted:!1,boosts:t.state.boosts-1})}):this.client.post("/statuses/"+this.state.id+"/reblog").then(function(a){e.setState({boosted:!0,boosts:t.state.boosts+1})})}},{key:"checkIfUnlisted",value:function(){if(this.props.status.reblog)return"This status is a boost of another.";var e=this.props.status.visibility;return"private"===e?"The author made this status visible to their followers only.":"direct"===e?"The author made this status visible only to you.":"We couldn't fetch the link for this post."}},{key:"getLinkAndCopy",value:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),new Notification("Link copied!",{body:"Feel free to paste this wherever you need it!"})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("ul",{className:"nav",id:"post-toolbar"},i.a.createElement("li",null,i.a.createElement(G,{status:this.props.status,client:this.props.client,fullButton:!0})),i.a.createElement("li",null,!0===this.state.favorited?i.a.createElement(R.a,{"data-automation-id":"test",iconProps:{iconName:"favoriteFill",className:"post-toolbar-icon"},allowDisabledFocus:!0,disabled:!1,checked:!1,onClick:function(){return e.toggle_favorite()},className:"post-toolbar-icon"},i.a.createElement("span",{className:"d-none d-md-block"},"Unfavorite (",this.state.favorites,")")):i.a.createElement(R.a,{"data-automation-id":"test",iconProps:{iconName:"favorite",className:"post-toolbar-icon"},allowDisabledFocus:!0,disabled:!1,checked:!1,onClick:function(){return e.toggle_favorite()},className:"post-toolbar-icon"},i.a.createElement("span",{className:"d-none d-md-block"},"Favorite (",this.state.favorites,")"))),i.a.createElement("li",null,!0===this.state.boosted?i.a.createElement(R.a,{"data-automation-id":"test",iconProps:{iconName:"boostFill",className:"post-toolbar-icon"},allowDisabledFocus:!0,disabled:!1,checked:!1,onClick:function(){return e.toggle_boost()},className:"post-toolbar-icon"},i.a.createElement("span",{className:"d-none d-md-block"},"Unboost (",this.state.boosts,")")):i.a.createElement(R.a,{"data-automation-id":"test",iconProps:{iconName:"boost",className:"post-toolbar-icon"},allowDisabledFocus:!0,disabled:!1,checked:!1,onClick:function(){return e.toggle_boost()},className:"post-toolbar-icon"},i.a.createElement("span",{className:"d-none d-md-block"},"Boost (",this.state.boosts,")"))),i.a.createElement("li",null,this.state.noThread?i.a.createElement("span",null):i.a.createElement(q,{fromWhere:this.props.status.id,client:this.client,fullButton:!0})),i.a.createElement("li",null,this.state.url?i.a.createElement(R.a,{"data-automation-id":"test",iconProps:{iconName:"linkApp",className:"post-toolbar-icon"},allowDisabledFocus:!0,disabled:!1,checked:!1,onClick:function(){return e.getLinkAndCopy(e.state.url)},className:"post-toolbar-icon"},i.a.createElement("span",{className:"d-none d-md-block"},"Copy link")):i.a.createElement(O.a,{content:this.checkIfUnlisted()},i.a.createElement(R.a,{"data-automation-id":"test",iconProps:{iconName:"unlinkApp",className:"post-toolbar-icon"},allowDisabledFocus:!0,disabled:!1,checked:!1,className:"post-toolbar-icon"},i.a.createElement("span",{className:"d-none d-md-block"},"Copy link")))),i.a.createElement("li",null,this.props.status.account.acct!==JSON.parse(localStorage.getItem("account")||"").acct||this.props.status.reblog?i.a.createElement("span",null):i.a.createElement(R.a,{iconProps:{iconName:"deletePost",className:"post-toolbar-icon"},checked:!1,onClick:function(){return e.openDeleteDialog()}},"Delete"))),i.a.createElement(b.a,{hidden:this.state.hideDeleteDialog,onDismiss:function(){return e.closeDeleteDialog()},dialogContentProps:{type:k.a.normal,title:"Delete this post?",subText:"Are you sure you want to delete this? You can't undo this action."},modalProps:{isBlocking:!0,containerClassName:"ms-dialogMainOverride",className:C()}},i.a.createElement(w.a,null,i.a.createElement(S.a,{onClick:function(){return e.deletePost()},text:"Delete"}),i.a.createElement(j.a,{onClick:function(){return e.closeDeleteDialog()},text:"Cancel"}))))}}]),t}(n.Component),Q=a(562),$=a(502);function X(){var e=document.querySelectorAll("a[href]");Array.prototype.forEach.call(e,function(e){0===(e.getAttribute("href")||"").indexOf("http")&&(e.setAttribute("onclick",'openInBrowser("'+e.href+'");'),e.removeAttribute("href"),e.classList.add("clickable-link"))})}var Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1,status:a.props.status},a.toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){X()}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"getAdditionalInformation",value:function(e){return e.includes("NSFW: ")?"Careful! This content isn't safe for work.":e.includes("Spoiler: ")?"If you haven't experienced the topic beforehand, you shouldn't view this.":"Proceed with caution."}},{key:"flagColorOfButton",value:function(e){return e.includes("NSFW: ")?[$.c.redDarkBackground,$.c.redDarkBackgroundHover,$.c.white,$.c.whiteHover].toString():e.includes("Spoiler: ")?[$.c.yellowBackground,$.c.yellowBackgroundHover].toString():""}},{key:"primaryOrNot",value:function(e){return!!e.includes("NSFW: ")}},{key:"render",value:function(){var e=this.state.status;return i.a.createElement("div",{className:"mt-2",key:this.state.status.id.toString()+"_sensitive_inner"},i.a.createElement(Q.a,{primary:this.primaryOrNot(e.spoiler_text),secondaryText:this.getAdditionalInformation(e.spoiler_text),onClick:this.toggle,text:e.spoiler_text||"Content warning",className:this.flagColorOfButton(e.spoiler_text)}),i.a.createElement(b.a,{hidden:!this.state.modal,onDismiss:this.toggle,modalProps:{className:C()},dialogContentProps:{type:k.a.normal,title:e.spoiler_text,subText:i.a.createElement("div",null,i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content}}),e.media_attachments.length?i.a.createElement("div",{className:"row"},e.media_attachments.map(function(t){return i.a.createElement("div",{className:"col",key:e.id.toString()+"_media_"+t.id.toString()},i.a.createElement("img",{src:t.url,className:"shadow-sm rounded",alt:t.description,style:{width:"100%"}}))}),i.a.createElement("br",null)):i.a.createElement("span",null))},minWidth:600}))}}]),t}(n.Component),ee=a(61),te=a(150);function ae(e){try{return Object(te.a)(e,!1)}catch(t){return console.warn("Characters in ".concat(e," may not be Latin! Defaulting to 'MU'.")),"MU"}}var ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.client=a.props.client,a.state={account:a.props.account,account_statuses:[],following:!1,openPanel:!1},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){X()}},{key:"toggleProfilePanel",value:function(){this.setState({openPanel:!this.state.openPanel}),this.getAllRecentStatuses(),this.getFollowStatus()}},{key:"closeProfilePanel",value:function(){this.setState({openPanel:!1,account_statuses:[]})}},{key:"createProfileLinkByName",value:function(){var e=this;return i.a.createElement("span",null,i.a.createElement(J.a,{onClick:function(){return e.toggleProfilePanel()},style:{fontWeight:"bold"}},this.checkDisplayName(this.state.account)))}},{key:"createProfileTable",value:function(e){var t=[];for(var a in e.fields){var n=e.fields[a].value.replace('class="invisible"',"");t.push({key:e.fields[a].name,value:i.a.createElement("p",{dangerouslySetInnerHTML:{__html:n}})})}if(t.length>0)return i.a.createElement("div",{id:"profile-table"},i.a.createElement(v.a,{columns:[{key:"key",fieldName:"key",name:"",minWidth:1,data:"string",maxWidth:76,isPadded:!0},{key:"value",fieldName:"value",data:"string",name:"",minWidth:1,maxWidth:128,isPadded:!0}],items:t,selectionMode:f.b.none,layoutMode:y.e.justified,className:"shadow-sm rounded"}))}},{key:"checkDisplayName",value:function(e){return""===e.display_name?e.username:e.display_name}},{key:"getProfileMetadata",value:function(e){return e.followers_count.toString()+" followers, "+e.following_count.toString()+" following, "+e.statuses_count+" posts"}},{key:"createProfilePersona",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(A.a,Object.assign({imageUrl:this.state.account.avatar,imageInitials:ae(this.state.account.display_name),text:this.checkDisplayName(this.state.account),secondaryText:"@"+this.state.account.username,tertiaryText:this.getProfileMetadata(this.state.account)},{size:ee.c.size72,styles:{primaryText:{color:"white !important",fontWeight:"bold",textShadow:"0px 0px 4px #333"},secondaryText:{color:"white !important",fontWeight:"bolder",textShadow:"0px 0px 2px #333"},tertiaryText:{color:"#f4f4f4 !important",fontWeight:"bolder",textShadow:"0px 0px 2px #333"}}})),i.a.createElement(S.a,{text:this.returnFollowStatusText(),onClick:function(){return e.toggleFollow()},className:"mt-4 shadow-sm "+C(),disabled:this.checkFollowNotSelf(),"aria-describedby":"cannotFollow"}))}},{key:"getFollowStatus",value:function(){var e=this;this.client.get("/accounts/relationships",{id:this.state.account.id}).then(function(t){e.setState({following:t.data[0].following})})}},{key:"checkFollowNotSelf",value:function(){return this.state.account.id===JSON.parse(localStorage.getItem("account")||"").id}},{key:"returnFollowStatusText",value:function(){return this.checkFollowNotSelf()?"Can't follow self":this.state.following?"Unfollow":"Follow"}},{key:"toggleFollow",value:function(){var e=this;this.state.following?this.client.post("/accounts/"+this.state.account.id.toString()+"/unfollow").then(function(t){e.setState({following:!1})}):this.client.post("/accounts/"+this.state.account.id.toString()+"/follow").then(function(t){e.setState({following:!0})})}},{key:"getAllRecentStatuses",value:function(){var e=this;this.client.get("/accounts/"+this.state.account.id+"/statuses",{limit:150}).then(function(t){e.setState({account_statuses:t.data})})}},{key:"showRecentStatuses",value:function(){var e=this,t=0;return this.state.account_statuses.length>0?i.a.createElement("div",{className:"my-2"},this.state.account_statuses.map(function(a){return i.a.createElement("div",{className:"my-2",key:e.props.account.id.toString()+"_post_"+a.id.toString()},i.a.createElement(ue,{key:t++,client:e.client,status:a,nolink:!0,clickToThread:!0}))})):i.a.createElement("p",{className:"my-2"},"No posts found.")}},{key:"getStyles",value:function(){return{closeButton:{color:"transparent","&:hover":{color:"transparent !important"},"&:active":{color:"transparent !important"},backgroundImage:"url('close.svg')",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"50%"},content:{marginTop:0},header:{backgroundColor:"black",backgroundImage:"url("+this.state.account.header+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"none",marginTop:"0 !important",height:200,paddingLeft:"0 !important",paddingRight:"0 !important",boxShadow:"0px 0px 4px #333"},headerText:{color:"white",backgroundColor:"rgba(0, 0, 0, 0.2)",height:200,margin:0,verticalAlign:"middle",paddingTop:48,paddingLeft:20,paddingRight:20,filter:"blur(0px)"}}}},{key:"render",value:function(){var e=this;return i.a.createElement("span",null,this.createProfileLinkByName(),i.a.createElement(U.a,{isOpen:this.state.openPanel,type:Y.a.medium,onDismiss:function(){return e.closeProfilePanel()},closeButtonAriaLabel:"Close",styles:this.getStyles(),headerText:this.createProfilePersona(),isLightDismiss:!0,className:C()},i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.account.note},className:"mt-2"}),this.createProfileTable(this.state.account)),i.a.createElement("hr",null),i.a.createElement("div",{className:"my-2"},this.showRecentStatuses())))}}]),t}(n.Component),ie=a(549),oe=a(252),se=a(552),le=a(566),re=a(565),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.threadRef=void 0,a.client=a.props.client,a.threadRef=i.a.createRef(),a.state={status:a.props.status},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"stripElementsFromContent",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}},{key:"getCardStyles",value:function(e){var t={},a=this.stripElementsFromContent(e.content);return 0!==e.media_attachments.length?t={root:{height:355}}:a.length>150&&(t={root:{height:200}}),t}},{key:"openChildThreadPanel",value:function(){this.threadRef.current.openThreadPanel()}},{key:"render",value:function(){var e=this,t=this.state.status;return i.a.createElement("div",{id:"boost-card"},i.a.createElement(q,{fromWhere:t.id,client:this.client,fullButton:null,ref:this.threadRef}),i.a.createElement(ie.a,{type:oe.a.compact,styles:this.getCardStyles(t),onClick:function(){return e.openChildThreadPanel()}},i.a.createElement(se.a,null,i.a.createElement(le.a,{title:i.a.createElement("div",null,i.a.createElement("p",null,this.stripElementsFromContent(t.content)),t.media_attachments.length?i.a.createElement("div",{className:"row"},t.media_attachments.map(function(e){return i.a.createElement("div",{className:"col",key:"media"+e.id},"image"===e.type?i.a.createElement("img",{src:e.url,className:"shadow-sm rounded",alt:e.description,style:{width:"100%"}}):i.a.createElement("video",{src:e.url,autoPlay:!1,controls:!0,className:"shadow-sm rounded",style:{width:"100%"}}))})):i.a.createElement("span",null)),shouldTruncate:!0,showAsSecondaryTitle:!0,styles:this.getCardStyles(t)}),i.a.createElement(re.a,{activity:"Originally posted on "+V()(t.created_at).format("MMM Do, YYYY: h:mm A"),people:[{name:i.a.createElement(ne,{account:t.account,client:this.client}),profileImageSrc:t.account.avatar,initials:ae(t.account.display_name)}]}))))}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.threadRef=void 0,a.client=a.props.client,a.threadRef=i.a.createRef(),a.state={noLink:a.props.nolink,noThread:a.props.nothread,clickToThread:a.props.clickToThread||!1},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){X()}},{key:"getBigShadow",value:function(){return this.props.bigShadow?"shadow":"shadow-sm"}},{key:"getAuthorName",value:function(e){var t;try{""===(t=e.display_name)&&(t=e.acct),Object(te.a)(t,!1)}catch(a){t=e.acct}return t}},{key:"getApplicationName",value:function(e){return null===e.application||void 0===e.application?i.a.createElement(O.a,{content:"We couldn't identify the application used to post this status."},i.a.createElement("span",null,i.a.createElement("b",null,"determination (Web)"))):i.a.createElement("span",null,i.a.createElement("b",null,e.application.name))}},{key:"getVisibility",value:function(e){return"public"===e.visibility?"Public":"unlisted"===e.visibility?"Unlisted":"private"===e.visibility?"Followers only":"Direct message"}},{key:"getPersonaText",value:function(e){return this.state.noLink?i.a.createElement("b",null,this.getAuthorName(this.props.status.account)):i.a.createElement(ne,{account:this.props.status.account,client:this.client,key:this.props.status.account.id.toString()+"_"+e.toString()+"_panel"})}},{key:"correctPostLinks",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var a=t.getElementsByTagName("a"),n=0;n<a.length;n++)a[n].setAttribute("onclick",'openInBrowser("'+a[n].href+'");');return t.innerHTML}},{key:"openThreadPanel",value:function(e){var t=e.target.parentNode;!e.target||!t||e.target.className.includes("ms-Link")||e.target.className.includes("ms-Button")||t.className.includes("ms-Button-flexContainer")||this.props.status.reblog||"A"===e.target.nodeName||"A"===t.nodeName||this.threadRef.current.openThreadPanel()}},{key:"getBoostCard",value:function(e){if(e.reblog)return i.a.createElement("div",{className:"mt-1 ml-4 mb-1"},i.a.createElement("div",{key:e.id.toString()+"_boost"},!0===e.sensitive?i.a.createElement(Z,{status:this.props.status,key:e.id.toString()+"_sensitive_boost"}):i.a.createElement("div",{className:"ml-4 mb-2"},i.a.createElement(ce,{client:this.client,status:this.props.status.reblog}))))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"post",key:this.props.status.id+"_post",className:"container rounded p-3 ms-slideDownIn10 marked-area "+this.getBigShadow(),onClick:function(t){e.state.clickToThread&&e.openThreadPanel(t)}},i.a.createElement(A.a,{imageUrl:this.props.status.account.avatar_static,text:this.getPersonaText(this.props.status.id),imageInitials:ae(this.props.status.account.display_name),secondaryText:"@"+this.props.status.account.acct}),i.a.createElement(W,null,this.props.status.reblog?this.getBoostCard(this.props.status):i.a.createElement("div",{className:"mb-2",key:this.props.status.id.toString()+"_contents"},!0===this.props.status.sensitive?i.a.createElement(Z,{status:this.props.status,key:this.props.status.id.toString()+"_sensitive"}):i.a.createElement("div",null,i.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.status.content}}),this.props.status.media_attachments.length?i.a.createElement("div",{className:"row"},this.props.status.media_attachments.map(function(e){return i.a.createElement("div",{key:"media"+e.id,className:"col"},"image"===e.type?i.a.createElement("img",{src:e.url,className:"shadow-sm rounded",alt:e.description,style:{width:"100%"}}):i.a.createElement("video",{src:e.url,autoPlay:!1,controls:!0,className:"shadow-sm rounded",style:{width:"100%"}}))})):i.a.createElement("span",null)))),i.a.createElement(K,{client:this.props.client,status:this.props.status,nothread:this.props.nothread}),i.a.createElement(F,{date:i.a.createElement("span",null,V()(this.props.status.created_at).format("MM/DD/YYYY [at] h:mm A")," via ",this.getApplicationName(this.props.status)," (",this.getVisibility(this.props.status),")")}),i.a.createElement(q,{fromWhere:this.props.status.id,client:this.client,fullButton:null,ref:this.threadRef}))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.streamListener=void 0,a.client=e.client,a.state={statuses:[],statusCount:150},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this,a=parseInt(String(this.state.statusCount));"home"===this.props.timeline?(this.streamListener=this.client.stream("/streaming/user"),this.streamListener.on("connect",function(){e.client.get("/timelines/home",{limit:t.state.statusCount,local:!0}).then(function(e){t.setState({statuses:e.data,statusCount:a++})})})):"local"===this.props.timeline?(this.streamListener=this.client.stream("/streaming/public/local"),this.streamListener.on("connect",function(){e.client.get("/timelines/public",{limit:t.state.statusCount,local:!0}).then(function(e){t.setState({statuses:e.data,statusCount:a++})})})):"public"===this.props.timeline?(this.streamListener=this.client.stream("/streaming/public"),this.streamListener.on("connect",function(){e.client.get("/timelines/public",{limit:t.state.statusCount,local:!1}).then(function(e){t.setState({statuses:e.data,statusCount:a++})})})):"messages"===this.props.timeline&&(this.streamListener=this.client.stream("/streaming/direct"),this.streamListener.on("connect",function(){e.client.get("/conversations",{limit:t.state.statusCount,local:!1}).then(function(e){var a=e.data,n=[];for(var i in a)n.push(a[i].last_status);t.setState({statuses:n,statusCount:n.length})})})),this.streamListener.on("update",function(a){var n=t.state.statuses;n.unshift(a),t.setState({statuses:n}),e.forceUpdate()}),this.streamListener.on("message",function(e){console.log(e)}),this.streamListener.on("connection-limit-exceeded",function(e){console.error(e)}),this.streamListener.on("not-event-stream",function(e){console.log(e)}),this.streamListener.on("delete",function(a){var n=t.state.statuses;for(var i in n)n[Number(i)].id===a&&n.splice(Number(i),1);t.setState({statuses:n}),e.forceUpdate()})}},{key:"getClearTimelineText",value:function(){var e="It's empty here...",t="It looks like there aren't any posts on this timeline. Why not get it going with a new post?";return"messages"===this.props.timeline&&(e="All clear!",t="It looks like you have no new messages. Interact with some people to get the conversation going!"),i.a.createElement("div",null,i.a.createElement("h3",null,e),i.a.createElement("p",null,t),i.a.createElement("small",null,i.a.createElement("p",null,"If you think this is an error, try checking the following: "),i.a.createElement("ul",null,i.a.createElement("li",null,"You have a stable internet connection."),i.a.createElement("li",null,"You have allowed Hyperspace access to your account."),i.a.createElement("li",null,"You aren't being throttled on your account (429)."))))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.state.statuses.length>0?i.a.createElement("div",null,this.state.statuses.map(function(t){return i.a.createElement("div",{key:t.id,className:"my-3"},i.a.createElement(ue,{client:e.client,status:t,nolink:!1,nothread:!1,clickToThread:!0}))}),i.a.createElement("hr",null),i.a.createElement("div",{id:"end-of-post-roll",className:"my-4",style:{textAlign:"center"}},"It appears you've reached... an end.")):i.a.createElement("div",{id:"timeline-error",className:"row p-4"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},this.getClearTimelineText()))))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.client=a.props.client,a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"getTextForTab",value:function(e){var t=navigator.userAgent;return/windows phone/i.test(t)||/android/i.test(t)||/iPad|iPhone|iPod/i.test(t)?"":e}},{key:"render",value:function(){return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(B.a,{linkSize:z.b.large},i.a.createElement(L.a,{headerText:this.getTextForTab("Home"),itemIcon:"homeApp"},i.a.createElement("div",{className:"container mt-2 ml-0"},i.a.createElement(he,{timeline:"home",client:this.client}))),i.a.createElement(L.a,{headerText:this.getTextForTab("Local"),itemIcon:"localCommunity"},i.a.createElement("div",{className:"container mt-2"},i.a.createElement(he,{timeline:"local",client:this.client}))),i.a.createElement(L.a,{headerText:this.getTextForTab("Public"),itemIcon:"public"},i.a.createElement("div",{className:"container mt-2"},i.a.createElement(he,{timeline:"public",client:this.client}))),i.a.createElement(L.a,{headerText:this.getTextForTab("Messages"),itemIcon:"directMessage"},i.a.createElement("div",{className:"container mt-2"},i.a.createElement(he,{timeline:"messages",client:this.client})))))}}]),t}(n.Component),me=a(557),pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.client=a.props.client,a.state={account:a.props.account,account_statuses:[],openPanel:!1,openBioDialog:!1,openImageDialog:!1,bioText:a.props.account.source.note,avatar:"",avatarPreview:[""],header:"",headerPreview:[""]},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){X()}},{key:"toggleProfilePanel",value:function(){this.setState({openPanel:!this.state.openPanel}),this.getAllRecentStatuses()}},{key:"closeProfilePanel",value:function(){this.setState({openPanel:!1,account_statuses:[]})}},{key:"toggleBioDialog",value:function(){this.setState({openBioDialog:!this.state.openBioDialog})}},{key:"toggleImageDialog",value:function(){this.setState({openImageDialog:!this.state.openImageDialog})}},{key:"cancelImageDialog",value:function(){this.setState({avatar:"",header:"",avatarPreview:[""],headerPreview:[""],openImageDialog:!1})}},{key:"createProfileLinkByName",value:function(){var e=this;return i.a.createElement("span",null,i.a.createElement(J.a,{onClick:function(){return e.toggleProfilePanel()},style:{fontWeight:"bold"}},this.checkDisplayName(this.state.account)))}},{key:"createProfileTable",value:function(e){var t=[];for(var a in e.fields){var n=e.fields[a].value.replace('class="invisible"',"");t.push({key:e.fields[a].name,value:i.a.createElement("p",{dangerouslySetInnerHTML:{__html:n}})})}if(t.length>0)return i.a.createElement("div",{id:"profile-table"},i.a.createElement(v.a,{columns:[{key:"key",fieldName:"key",name:"",minWidth:1,data:"string",maxWidth:76,isPadded:!0},{key:"value",fieldName:"value",data:"string",name:"",minWidth:1,maxWidth:128,isPadded:!0}],items:t,selectionMode:f.b.none,layoutMode:y.e.justified,className:"shadow-sm rounded"}))}},{key:"checkDisplayName",value:function(e){return""===e.display_name?e.username:e.display_name}},{key:"getProfileMetadata",value:function(e){return e.followers_count.toString()+" followers, "+e.following_count.toString()+" following, "+e.statuses_count+" posts"}},{key:"createProfilePersona",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(A.a,Object.assign({imageUrl:this.state.account.avatar,imageInitials:ae(this.state.account.display_name),text:this.checkDisplayName(this.state.account)+" (you)",title:"Despite everything, it's still you.",secondaryText:"@"+this.state.account.username,tertiaryText:this.getProfileMetadata(this.state.account)},{size:ee.c.size72,styles:{primaryText:{color:"white !important",fontWeight:"bold",textShadow:"0px 0px 4px #333"},secondaryText:{color:"white !important",fontWeight:"bolder",textShadow:"0px 0px 2px #333"},tertiaryText:{color:"#f4f4f4 !important",fontWeight:"bolder",textShadow:"0px 0px 2px #333"}}})),i.a.createElement("div",{className:"mt-4"},i.a.createElement(S.a,{text:"Edit bio",style:{marginRight:8},onClick:function(){return e.toggleBioDialog()}}),i.a.createElement(j.a,{text:"Change images",onClick:function(){return e.toggleImageDialog()}}),this.getEditBioDialog(),this.getChangeImagesDialog()))}},{key:"getAllRecentStatuses",value:function(){var e=this;this.client.get("/accounts/"+this.state.account.id+"/statuses",{limit:150}).then(function(t){e.setState({account_statuses:t.data})})}},{key:"showRecentStatuses",value:function(){var e=this,t=0;return this.state.account_statuses.length>0?i.a.createElement("div",{className:"my-2"},this.state.account_statuses.map(function(a){return i.a.createElement("div",{className:"my-2",key:e.props.account.id.toString()+"_post_"+a.id.toString()},i.a.createElement(ue,{key:t++,client:e.client,status:a,nolink:!0,clickToThread:!0}))})):i.a.createElement("p",{className:"my-2"},"No posts found.")}},{key:"getEditBioDialog",value:function(){var e=this;return i.a.createElement(b.a,{isOpen:this.state.openBioDialog,onDismiss:function(){return e.toggleBioDialog},dialogContentProps:{type:k.a.largeHeader,title:"Edit your bio",subText:"Change what your bio says or type in a new bio here."},modalProps:{isBlocking:!1,containerClassName:"ms-dialogMainOverride",className:C()},minWidth:500},i.a.createElement(g.a,{multiline:!0,rows:5,resizable:!1,maxLength:500,onBlur:function(t){return e.updateBioText(t)},placeholder:"Who are you?","data-emojiable":!1,defaultValue:this.state.bioText}),i.a.createElement(w.a,null,i.a.createElement(S.a,{text:"Save",onClick:function(){return e.publishBio()}}),i.a.createElement(j.a,{text:"Cancel",onClick:function(){return e.toggleBioDialog()}})))}},{key:"updateBioText",value:function(e){this.setState({bioText:e.target.value})}},{key:"publishBio",value:function(){var e=this;this.client.patch("/accounts/update_credentials",{note:this.state.bioText}).then(function(t){localStorage.setItem("account",JSON.stringify(t.data)),e.setState({account:t.data,bioText:t.data.source.note,openBioDialog:!1})})}},{key:"getChangeImagesDialog",value:function(){var e=this;return i.a.createElement(b.a,{isOpen:this.state.openImageDialog,onDismiss:function(){return e.toggleImageDialog},dialogContentProps:{type:k.a.largeHeader,title:"Change your images",subText:"You can change your avatar, header image, or both by clicking on the respective image."},modalProps:{isBlocking:!1,containerClassName:"ms-dialogMainOverride",className:C()},minWidth:700},i.a.createElement("div",{className:"row p-4",style:{backgroundImage:"url('"+this.getBackgroundUrl()+"')",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",textAlign:"center"},onClick:function(t){"IMG"!==t.target.nodeName&&e.uploadImage("header")}},i.a.createElement("div",{className:"mx-auto"},""!==this.state.avatar?this.renderNewAvatar():i.a.createElement("img",{src:this.props.account.avatar_static,className:"rounded-circle shadow-sm",style:{width:"50%"},onClick:function(){return e.uploadImage("avatar")}}))),i.a.createElement(w.a,null,i.a.createElement(S.a,{text:"Upload",onClick:function(){return e.changeImages()}}),i.a.createElement(j.a,{text:"Cancel",onClick:function(){return e.cancelImageDialog()}})))}},{key:"uploadImage",value:function(e){if("avatar"!==e&&"header"!==e)throw new Error("Expected 'avatar' or 'header' but got "+e);var t=this;_()({multiple:!1,accept:"image/*"}).then(function(a){var n=new FormData;n.append(e,a[0]);var i=[];i.push(a[0]),"avatar"==e?t.setState({avatar:n,avatarPreview:i}):"header"===e&&t.setState({header:n,headerPreview:i})})}},{key:"changeImages",value:function(){var e=this;this.client.patch("/accounts/update_credentials",this.state.avatar).then(function(t){e.setState({account:t.data,avatar:""})}),this.client.patch("/accounts/update_credentials",this.state.header).then(function(t){localStorage.setItem("account",JSON.stringify(t.data)),e.setState({account:t.data,header:"",openImageDialog:!1})})}},{key:"renderNewAvatar",value:function(){var e=this,t=window.URL.createObjectURL(this.state.avatarPreview[0]);return i.a.createElement("img",{src:t,onClick:function(){return e.uploadImage("avatar")},className:"rounded-circle shadow-sm",style:{width:"50%"}})}},{key:"getBackgroundUrl",value:function(){return""!==this.state.headerPreview[0]?window.URL.createObjectURL(this.state.headerPreview[0]):this.props.account.header_static}},{key:"getStyles",value:function(){return{closeButton:{color:"transparent","&:hover":{color:"transparent !important"},"&:active":{color:"transparent !important"},backgroundImage:"url('close.svg')",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"50%"},content:{marginTop:0},header:{backgroundColor:"black",backgroundImage:"url("+this.state.account.header+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"none",marginTop:"0 !important",height:200,paddingLeft:"0 !important",paddingRight:"0 !important",boxShadow:"0px 0px 4px #333"},headerText:{color:"white",backgroundColor:"rgba(0, 0, 0, 0.2)",height:200,margin:0,verticalAlign:"middle",paddingTop:48,paddingLeft:20,paddingRight:20,filter:"blur(0px)"}}}},{key:"render",value:function(){var e=this;return i.a.createElement("span",null,this.createProfileLinkByName(),i.a.createElement(U.a,{isOpen:this.state.openPanel,type:Y.a.medium,onDismiss:function(){return e.closeProfilePanel()},closeButtonAriaLabel:"Close",styles:this.getStyles(),headerText:this.createProfilePersona(),isLightDismiss:!0,className:C()},i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.account.note},className:"mt-2"}),this.createProfileTable(this.state.account)),i.a.createElement("hr",null),i.a.createElement("div",{className:"my-2"},this.showRecentStatuses())))}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).who=void 0,a.persona=void 0,a.client=void 0,a.who=a.props.who,a.client=a.props.client,a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.persona={imageUrl:this.who.avatar,imageInitials:ae(this.who.display_name),text:i.a.createElement(pe,{client:this.client,account:this.who}),secondaryText:"@"+this.who.acct,tertiaryText:this.who.followers_count.toString()+" followers, "+this.who.following_count.toString()+" following, "+this.who.statuses_count+" posts"}}},{key:"render",value:function(){return i.a.createElement(A.a,Object.assign({},this.persona,{size:ee.c.size72}))}}]),t}(n.Component),ve=function(e){function t(e){var a;for(var n in Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).columns=void 0,a.rows=void 0,a.profile=void 0,a.profile=a.props.who,a.columns=[{key:"key",fieldName:"key",data:"string",maxWidth:24,isPadded:!0},{key:"value",fieldName:"value",data:"string",isPadded:!0}],a.rows=[],a.props.who.fields){var o=a.props.who.fields[n].value.replace('class="invisible"',"");a.rows.push({key:a.props.who.fields[n].name,value:i.a.createElement("p",{dangerouslySetInnerHTML:{__html:o}})})}return a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(v.a,{columns:this.columns,items:this.rows,selectionMode:f.b.none,layoutMode:y.e.justified})}}]),t}(n.Component),fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).who=void 0,a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.who=this.props.who}},{key:"render",value:function(){return i.a.createElement("div",{id:"profile-container",className:"profile-container shadow rounded marked-area"},i.a.createElement("div",{className:"profile-container-header",style:{backgroundImage:'url("'+this.who.header+'")'}}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"my-4"},i.a.createElement(ge,{who:this.who,client:this.props.client})),i.a.createElement(me.a,null,this.who.source.note),i.a.createElement(ve,{who:this.who})))}}]),t}(n.Component),ye=a(86),be=a.n(ye),ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={instanceUrl:"",modal:!1,reauth:!1,reauth_from_cookie:!1,clientId:"",clientSecret:"",authUrl:"",authCode:""},a.toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a.toggle_reauth=a.toggle_reauth.bind(Object(d.a)(Object(d.a)(a))),a._getErrorMessage=a._getErrorMessage.bind(Object(d.a)(Object(d.a)(a))),a._getErrorMessagePromise=a._getErrorMessagePromise.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("id")&&this.setState({reauth_from_cookie:!0,clientId:localStorage.getItem("id")||"",clientSecret:localStorage.getItem("secret")||"",authUrl:localStorage.getItem("authurl")||""})}},{key:"toggle",value:function(){""===this.state.instanceUrl&&this.setState({instanceUrl:"mastodon.social"}),this.createAuthApp(),this.setState({modal:!this.state.modal})}},{key:"toggle_reauth",value:function(){this.setState({reauth:!this.state.reauth})}},{key:"closePanel",value:function(){this.setState({modal:!1,reauth:!1})}},{key:"updateInstanceUrl",value:function(e){this.setState({instanceUrl:e.target.value})}},{key:"_getErrorMessage",value:function(e){return e.length>0?"":"This field cannot be blank."}},{key:"_getErrorMessagePromise",value:function(e){var t=this;return new Promise(function(a){setTimeout(function(){return a(t._getErrorMessage(e))},3e3)})}},{key:"updateAuthCode",value:function(e){this.setState({authCode:e.target.value})}},{key:"getMobilePWA",value:function(){var e=navigator.userAgent||navigator.vendor,t="";if(/iPad|iPhone|iPod/i.test(e)?t="Tap the Share icon in Safari and then tap 'Add to Home Screen'.":/android/i.test(e)&&(t="You may be already prompted to add Hyperspace to your home screen. Tap 'Add to Home Screen' to continue. If this option does not appear, try adding it through your browser's menu."),/windows phone/i.test(e)||/android/i.test(e)||/iPad|iPhone|iPod/i.test(e)){if(!("standalone"in window.navigator&&window.navigator.standalone))return i.a.createElement("div",{className:"container p-4 mt-4 marked-area shadow-sm rounded"},i.a.createElement("h4",null,"Using a mobile device?"),i.a.createElement("p",null,"You can easily add Hyperspace to your home screen: "),i.a.createElement("p",null,t))}}},{key:"createAuthApp",value:function(){var e=this,t="https://"+e.state.instanceUrl;be.a.registerApp("Hyperspace",{scopes:"read write follow"},t).then(function(t){e.setState({clientId:t.client_id,clientSecret:t.client_secret,authUrl:t.url}),localStorage.setItem("id",t.client_id),localStorage.setItem("secret",t.client_secret),localStorage.setItem("authurl",t.url)}),localStorage.setItem("baseurl",t)}},{key:"getAccessToken",value:function(){be.a.fetchAccessToken(this.state.clientId,this.state.clientSecret,this.state.authCode,localStorage.getItem("baseurl")||"").then(function(e){var t=e.accessToken;console.log(t),localStorage.setItem("access_token",t),localStorage.removeItem("id"),localStorage.removeItem("secret"),localStorage.removeItem("authurl"),window.location.reload()}).catch(function(e){return console.error(e)})}},{key:"getPanelStyles",value:function(){return{closeButton:{color:"transparent","&:hover":{color:"transparent !important"},"&:active":{color:"transparent !important"},backgroundImage:"url('close.svg')",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"50%"}}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.getMobilePWA(),i.a.createElement("div",{className:"container shadow-sm p-4 mt-4 marked-area"},i.a.createElement("h2",null,"Sign in to Hyperspace"),i.a.createElement("p",null,"Welcome to Hyperspace, the fluffy client for Mastodon! We're more than happy to make your experience pleasant, but we'll need you to sign in to your Mastodon account first."),i.a.createElement("p",null,"Please sign in by entering your Mastodon instance's domain. This is typically the domain name of the instance or the URL used to access that instance."),i.a.createElement("div",null,i.a.createElement(g.a,{prefix:"https://",label:"Host domain name",description:"The base URL of your Mastodon instance",onBlur:function(t){return e.updateInstanceUrl(t)},required:!0,onGetErrorMessage:this._getErrorMessage,validateOnFocusOut:!0}),this.state.reauth_from_cookie?i.a.createElement("div",{className:"container rounded shadow p-3 my-2 marked-area"},i.a.createElement("h5",null,"Finish sign-in"),i.a.createElement("p",null,"We noticed you didn't finish setting up Hyperspace. You can start over or pick up where you left off."),i.a.createElement(S.a,{onClick:function(){return e.toggle_reauth()},style:{marginRight:8}},"Finish sign-in"),i.a.createElement(j.a,{onClick:function(){return e.toggle()}},"Start over")):i.a.createElement(S.a,{onClick:this.toggle,style:{marginRight:8,marginTop:4}},"Sign in")),i.a.createElement(U.a,{isOpen:this.state.modal,type:Y.a.medium,onDismiss:function(){return e.closePanel()},headerText:"Give authorization access",closeButtonAriaLabel:"Close",styles:this.getPanelStyles(),className:C(),onRenderFooterContent:function(){return i.a.createElement("div",null,i.a.createElement(S.a,{onClick:function(){return e.getAccessToken()},style:{marginRight:"8px"},text:"Authorize"}),i.a.createElement(j.a,{onClick:function(){return e.closePanel()},text:"Cancel"}))}},i.a.createElement("p",null,"We'll need you to grant Hyperspace authorization to access your Mastodon account on ",i.a.createElement("b",null,this.state.instanceUrl),". Click 'Get Code' to authorize and then paste the authorization code here."),i.a.createElement(j.a,{href:this.state.authUrl,target:"_blank",rel:"noopener noreferrer"},"Get code"),i.a.createElement(g.a,{label:"Authorization code",onBlur:function(t){return e.updateAuthCode(t)}})),i.a.createElement(U.a,{isOpen:this.state.reauth,type:Y.a.medium,onDismiss:function(){return e.closePanel()},headerText:"Finish setup",closeButtonAriaLabel:"Close",styles:this.getPanelStyles(),className:C(),onRenderFooterContent:function(){return i.a.createElement("div",null,i.a.createElement(S.a,{onClick:function(){return e.getAccessToken()},style:{marginRight:"8px"},text:"Authorize"}),i.a.createElement(j.a,{onClick:function(){return e.closePanel()},text:"Cancel"}))}},i.a.createElement("p",null,"Paste the authroization token from when you signed in and authorized Hyperspace. If you have forgotten or need to re-assign access, click ",i.a.createElement("b",null,"Reacquire code")," to reset. Optionally, you may cancel and press 'Start over'."),i.a.createElement(j.a,{href:this.state.authUrl,target:"_blank",rel:"noopener noreferrer"},"Reacquire code"),i.a.createElement(g.a,{label:"Authorization code",onBlur:function(t){return e.updateAuthCode(t)}}))))}}]),t}(n.Component),Ee=a(553),we=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.notifListener=void 0,a.client=a.props.client,a.state={notifications:[],hideDeleteDialog:!0},a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;this.notifListener=this.client.stream("/streaming/user"),this.notifListener.on("connect",function(){e.client.get("/notifications",{limit:7}).then(function(e){t.setState({notifications:e.data})})}),this.notifListener.on("notification",function(a){var n=t.state.notifications;n.unshift(a),n.splice(-1,1),t.setState({notifications:n}),e.sendDesktopNotification(a)})}},{key:"componentDidUpdate",value:function(){X()}},{key:"toggleDeleteDialog",value:function(){this.setState({hideDeleteDialog:!this.state.hideDeleteDialog})}},{key:"getDeleteLink",value:function(){var e=this;if(this.state.notifications.length>0)return i.a.createElement(J.a,{className:"mr-2",onClick:function(){return e.toggleDeleteDialog()}},"Clear")}},{key:"getDeleteDialog",value:function(){var e=this;return i.a.createElement(b.a,{hidden:this.state.hideDeleteDialog,onDismiss:function(){return e.toggleDeleteDialog()},dialogContentProps:{type:k.a.normal,title:"Clear all notifications",subText:"Are you sure you want to clear all of your notifications? This action cannot be undone."},modalProps:{isBlocking:!0}},i.a.createElement(w.a,null,i.a.createElement(S.a,{onClick:function(){return e.deleteNotifications()},text:"Clear"}),i.a.createElement(j.a,{onClick:function(){return e.toggleDeleteDialog()},text:"Cancel"})))}},{key:"deleteNotifications",value:function(){var e=this;this.client.post("/notifications/clear").then(function(){e.setState({notifications:[]})}),this.toggleDeleteDialog()}},{key:"getAuthorLink",value:function(e){return i.a.createElement(ne,{account:e,client:this.client})}},{key:"sendDesktopNotification",value:function(e){var t=e.account.display_name,a="";if("follow"===e.type?t+=" followed you.":"mention"===e.type?"direct"===e.status.visibility?t+=" messaged you.":t+=" mentioned you in a status.":"favourite"===e.type?t+=" favorited your status.":"reblog"===e.type&&(t+=" boosted your status."),null!==e.status||void 0!==e.status){var n=document.createElement("tempDiv");n.innerHTML=e.status.content,a=n.textContent||n.innerText||""}new Notification(t,{body:a}).onclick=function(){window.focus()}}},{key:"getActivityDescription",value:function(e,t){return"follow"===e?i.a.createElement("span",null," ",i.a.createElement("b",null,"followed")," you."):"favourite"===e?i.a.createElement("span",null," ",i.a.createElement("b",null,"favorited")," your status."):"mention"===e?void 0!==t&&"direct"===t.visibility?i.a.createElement("span",null," ",i.a.createElement("b",null,"messaged")," you."):i.a.createElement("span",null," ",i.a.createElement("b",null,"mentioned")," you in a status."):"reblog"===e?i.a.createElement("span",null," ",i.a.createElement("b",null,"boosted")," your status."):void 0}},{key:"getActivityComment",value:function(e,t){return null===e||void 0===e?"":i.a.createElement("div",null,i.a.createElement("span",{className:"my-2",dangerouslySetInnerHTML:{__html:e.content}}),"mention"===t?i.a.createElement("span",null,i.a.createElement(G,{className:"mr-2",status:e,client:this.client,fullButton:!1}),i.a.createElement(q,{fromWhere:e.id,client:this.client,fullButton:!1})):i.a.createElement("span",null))}},{key:"getActivityDate",value:function(e){return V()(e).format("MMM Do, YYYY [at] h:mm A")}},{key:"createActivityList",value:function(){var e=this;return this.state.notifications.length>0?this.state.notifications.map(function(t,a){var n=[{activityDescription:[i.a.createElement("span",{key:a},e.getAuthorLink(t.account),e.getActivityDescription(t.type,t.status))]}];return i.a.createElement(Ee.a,{activityDescription:n[0].activityDescription,activityPersonas:[{imageUrl:t.account.avatar}],comments:e.getActivityComment(t.status,t.type),timeStamp:e.getActivityDate(t.created_at),className:"mt-2",key:a+Number(t.id)})}):i.a.createElement("div",{className:"mt-2"},i.a.createElement("h6",null,"All clear!"),i.a.createElement("small",null,"You don't have any new notifications. Interact with others in the fediverse to get the conversation going!"))}},{key:"render",value:function(){return i.a.createElement("div",{id:"notification-pane",className:"container-fluid shadow rounded mt-4 p-4 marked-area"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-10"},i.a.createElement("h5",null,i.a.createElement("b",null,"Notifications"))),i.a.createElement("div",{className:"col-2"},this.getDeleteLink(),this.getDeleteDialog())),this.createActivityList())}}]),t}(n.Component);Object($.F)({icons:{attachedFile:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"})),boost:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"})),boostFill:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.a.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})),darkModeOn:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.a.createElement("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"})),darkModeOff:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.a.createElement("path",{d:"M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"})),deletePost:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"})),directMessage:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h12v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"})),emojiPicker:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"})),favorite:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"})),favoriteFill:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})),helpApp:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})),homeApp:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"})),linkApp:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"})),localCommunity:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0 -4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"})),overflowMenu:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{opacity:".87",fill:"none",d:"M24 24H0V0h24v24z"}),i.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"})),postStatus:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"})),private:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z"})),public:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-.61.08-1.21.21-1.78L8.99 15v1c0 1.1.9 2 2 2v1.93C7.06 19.43 4 16.07 4 12zm13.89 5.4c-.26-.81-1-1.4-1.9-1.4h-1v-3c0-.55-.45-1-1-1h-6v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41C17.92 5.77 20 8.65 20 12c0 2.08-.81 3.98-2.11 5.4z"})),replyApp:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"})),thread:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M15 4v7H5.17L4 12.17V4h11m1-2H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm5 4h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1z"})),unlinkApp:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M14.39 11L16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z"})),unlisted:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z"})),uploadMedia:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M20 4v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 9.67l1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"})),warningApp:i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}))}});a(491),a(492),a(494),a(496),a(498),a(500);Object($.A)({palette:{themePrimary:"#5c2d91",themeLighterAlt:"#f7f4fb",themeLighter:"#dfd3ed",themeLight:"#c6b0de",themeTertiary:"#936fbd",themeSecondary:"#6b3e9f",themeDarkAlt:"#532983",themeDark:"#46226e",themeDarker:"#331951",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#c2c2c2",neutralSecondary:"#858585",neutralPrimaryAlt:"#4b4b4b",neutralPrimary:"#333333",neutralDark:"#272727",black:"#1d1d1d",white:"#ffffff"}});var Se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).client=void 0,a.checkLocalStorage=a.checkLocalStorage.bind(Object(d.a)(Object(d.a)(a))),a.createMastodonApp=a.createMastodonApp.bind(Object(d.a)(Object(d.a)(a))),a.checkLocalStorage()&&(a.createMastodonApp(),a.state={account:""},a.getAccountDetails()),a}return Object(h.a)(t,e),Object(r.a)(t,[{key:"checkLocalStorage",value:function(){return null!=localStorage.getItem("baseurl")&&null!=localStorage.getItem("access_token")}},{key:"createMastodonApp",value:function(){var e=localStorage.getItem("access_token"),t=localStorage.getItem("baseurl");this.client=new be.a(e||"",t+"/api/v1")}},{key:"getAccountDetails",value:function(){var e=this;null!=this.client&&this.client.get("/accounts/verify_credentials").then(function(t){localStorage.setItem("account",JSON.stringify(t.data)),e.setState({account:t.data})})}},{key:"componentWillMount",value:function(){if(this.getAccountDetails(),"Notification"in window)Notification.requestPermission;else console.log("Notifications aren't supported on this browser.")}},{key:"componentDidMount",value:function(){X()}},{key:"hideMacScrollbars",value:function(){if(navigator.userAgent.includes("Electron")&&-1!==navigator.appVersion.indexOf("Mac"))return"hidden-scroll"}},{key:"render",value:function(){return i.a.createElement("div",{className:C()+" "+this.hideMacScrollbars()},i.a.createElement("nav",null,i.a.createElement(I,null)),i.a.createElement("div",{className:"container app-container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-lg-8"},this.client?i.a.createElement("div",null,i.a.createElement(D,{client:this.client}),i.a.createElement("hr",null)):i.a.createElement("span",null),i.a.createElement("div",{className:"container"},this.checkLocalStorage()?i.a.createElement(de,{client:this.client}):i.a.createElement(ke,null))),i.a.createElement("div",{className:"col-sm-12 col-md-4 d-none d-lg-block m-0 p-0 profile-container"},this.checkLocalStorage()?i.a.createElement("div",null,this.client?i.a.createElement("div",null,localStorage.getItem("account")?i.a.createElement(fe,{client:this.client,who:JSON.parse(localStorage.getItem("account")||"")}):i.a.createElement("div",{className:"p-4"},i.a.createElement("h3",null,"Hang tight!"),i.a.createElement("p",null,"Reload Hyperspace for your profile card to update.")),i.a.createElement(we,{client:this.client})):i.a.createElement("span",null)):i.a.createElement("div",null,i.a.createElement("div",{className:"container rounded shadow-sm mt-4 p-4 marked-area"},i.a.createElement("span",{className:"ml-auto",style:{textAlign:"center"}},i.a.createElement("img",{src:"logomark.svg",width:"100%",alt:"Hyerspace logo"})),i.a.createElement("h4",null,"What is Hyperspace?"),i.a.createElement("p",null,"Hyperspace is a client for the ",i.a.createElement("a",{href:"https://joinmastodon.org"},"Mastodon")," social network. It allows users to sign in to their Mastodon account and view timelines, post statuses (toots), and interact with others in the federated universe (fediverse)."),i.a.createElement("small",{className:"text-muted"},"Hyperspace is free software licensed under the ",i.a.createElement("a",{href:"https://www.gnu.org/copyleft/lesser.html"},"GNU Lesser General Public License"),". Some libraries used are licensed uder other free software licenses such as the GPL and MIT licenses.")))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[242,2,1]]]);
//# sourceMappingURL=main.94c92123.chunk.js.map